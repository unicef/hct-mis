{% extends "admin_extra_urls/action_page.html" %}{% load engine i18n admin_urls static admin_modify %}
{#{% block breadcrumbs %}#}
{#<div class="breadcrumbs">#}
{#<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>#}
{#&rsaquo; <a href="{% url 'admin:app_list' app_label=opts.app_label %}">{{ opts.app_config.verbose_name }}</a>#}
{#&rsaquo; <a href="{% url opts|admin_urlname:'changelist' %}">{{ opts.verbose_name_plural|capfirst }}</a>#}
{#&rsaquo; <a href="{% url opts|admin_urlname:'change' original.pk %}">{{ rule }}</a>#}
{#&rsaquo; History#}
{#</div>#}
{#{% endblock %}#}

{% block action-content %}

     <table width="100%">
           <tr>
                <td>Date</td>
                <td>Author</td>
                <td>Affected Fields</td>
{#                <td>{{ rule }}</td>#}
{#                <td>{{ rule }}</td>#}
            </tr>
        {% for state in original.history.all %}
            <tr>
                <td><a href="{% url opts|admin_urlname:'diff' state.rule.pk %}?state_pk={{ state.pk }}">{{ state.timestamp }}</a></td>
                <td>{{ state.updated_by }}</td>
                <td>{{ state.affected_fields|join:"," }}</td>
{#                <td>{{ rule }}</td>#}
{#                <td>{{ rule }}</td>#}
            </tr>
        {% endfor %}
     </table>
{% endblock %}
