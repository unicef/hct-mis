# Generated by Django 3.2.15 on 2023-01-20 12:56

import django.contrib.postgres.fields
from django.db import migrations, models
import django.db.models.deletion
import django_fsm


class Migration(migrations.Migration):

    dependencies = [
        ('core', '0060_migration'),
        ('household', '0135_migration'),
        ('payment_module', '0002_migration'),
    ]

    operations = [
        migrations.RenameField(
            model_name='paymentplan',
            old_name='export_file',
            new_name='exported_entitlement_file',
        ),
        migrations.RenameField(
            model_name='paymentplan',
            old_name='imported_file',
            new_name='imported_entitlement_file',
        ),
        migrations.RenameField(
            model_name='paymentplan',
            old_name='imported_file_date',
            new_name='imported_entitlement_file_date',
        ),
        migrations.AddField(
            model_name='payment',
            name='collector',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='collected_payments', to='household.individual'),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='correct',
            field=models.PositiveBigIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='exported_reconciliation_zip_file',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='core.filetemp'),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='missing',
            field=models.PositiveBigIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='total',
            field=models.PositiveBigIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='total_entitled_quantity',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=20),
        ),
        migrations.AddField(
            model_name='paymentinstruction',
            name='total_entitled_quantity_usd',
            field=models.DecimalField(decimal_places=2, default=0, max_digits=20),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='delivered_fully',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='delivered_partially',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='failed',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='not_delivered',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='pending',
            field=models.PositiveIntegerField(default=0),
        ),
        migrations.AddField(
            model_name='paymentplan',
            name='plan_type',
            field=models.CharField(choices=[('HOUSEHOLD', 'Household'), ('INDIVIDUAL', 'Individual')], default='HOUSEHOLD', max_length=20),
        ),
        migrations.AlterField(
            model_name='authorization',
            name='type',
            field=models.CharField(choices=[('AUTHORIZATION', 'Authorization'), ('RELEASE', 'Release'), ('REJECT_AUTH', 'Reject Authorization'), ('REJECT_RELEASE', 'Reject Release')], default='REJECT_AUTH', max_length=50, verbose_name='Approval type'),
        ),
        migrations.AlterField(
            model_name='paymentcycle',
            name='status',
            field=django_fsm.FSMField(choices=[('NEW', 'New'), ('IN_PROGRESS', 'In Progress'), ('COMPLETED', 'Completed')], db_index=True, default='NEW', max_length=50),
        ),
        migrations.AlterField(
            model_name='paymentplan',
            name='excluded_ids',
            field=django.contrib.postgres.fields.ArrayField(base_field=models.CharField(max_length=255), blank=True, default=list, size=None),
        ),
        migrations.AlterUniqueTogether(
            name='paymentinstruction',
            unique_together={('fsp', 'delivery_mechanism')},
        ),
    ]
